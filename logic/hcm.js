const all_hcms = [{
    year: 21,
    imgSrc: "../assets/hcm21/aDeep.jpg",
    name: "Anubhav Deep",
    position: "Hall President",
    f_link: "https://www.facebook.com/anubhav.deep1",
    in_link: "https://www.linkedin.com/in/anubhav-deep",
    email_link: "mailto:anubhavdeep.singh.karnal@gmail.com"
}, {
    year: 21,
    imgSrc: "../assets/hcm21/sTidke.jpg",
    name: "Samadhan Tidke",
    position: "Second Senate Member",
    f_link: "https://www.facebook.com/samadhan.tidke.10",
    in_link: "https://www.linkedin.com/in/samadhan-tidke-1baa3a169",
    email_link: "mailto:samadhantidke54@gmail.com"
}, {
    year: 21,
    imgSrc: "../assets/hcm21/akSingh.jpg",
    name: "Anuj Kumar Singh",
    position: "General Secretary Social and Cultural",
    f_link: "https://www.facebook.com/anuj.kumar.1999",
    in_link: "https://www.linkedin.com/in/singhkumaranuj",
    email_link: "mailto:anujsharanamu@gmail.com"
}, {
    year: 21,
    imgSrc: "../assets/hcm21/aDachepally.jpg",
    name: "Abhilash Dachepally",
    position: "General Secretary Sports and Games",
    f_link: "https://www.facebook.com/abhilashvarma0",
    in_link: "https://www.linkedin.com/in/abhilash-dachepally-b60259170",
    email_link: "mailto:abhilashdachepally@gmail.com"
}, {
    year: 21,
    imgSrc: "../assets/hcm21/mGupta.jpg",
    name: "Mudit Gupta",
    position: "General Secretary Technology",
    f_link: "https://www.facebook.com/mudit.gupta.1800",
    in_link: "https://www.linkedin.com/in/mudit-gupta-b5a206180",
    email_link: "mailto:muditgupta140@gmail.com"
}, {
    year: 21,
    imgSrc: "../assets/hcm21/tNaik.jpg",
    name: "Tharun Naik",
    position: "General Secretary Student's Welfare",
    f_link: "https://www.facebook.com/tharun.naik.589",
    in_link: "https://www.linkedin.com/in/tharunnaik",
    email_link: "mailto:itistheinventor@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/aKaushal.jpeg",
    name: "Abhishek Kaushal",
    position: "Hall President",
    f_link: "https://www.facebook.com/abhishek.kaushal.9256",
    in_link: "https://www.linkedin.com/in/abhishek-kaushal-81205a162",
    email_link: "mailto:abhishekkaushal98.ak@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/sBhattacharya.jpeg",
    name: "Shubhram Bhattacharya",
    position: "Second Senate Member",
    f_link: "https://www.facebook.com/profile.php?id=100012719321826",
    in_link: "https://www.linkedin.com/in/shubhram-bhattacharya-033b5b129",
    email_link: "mailto:shubh.bhatta@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/sTidke.jpg",
    name: "Samadhan Tidke",
    position: "General Secretary Social and Cultural",
    f_link: "https://www.facebook.com/samadhan.tidke.10",
    in_link: "https://www.linkedin.com/in/samadhan-tidke-1baa3a169",
    email_link: "mailto:samadhantidke54@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/aDeep.jpg",
    name: "Anubhav Deep",
    position: "General Secretary Alumni Affairs",
    f_link: "https://www.facebook.com/anubhav.deep1",
    in_link: "https://www.linkedin.com/in/anubhav-deep",
    email_link: "mailto:anubhavdeep.singh.karnal@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/nKumar.jpeg",
    name: "Nishant Kumar",
    position: "General Secretary Sports and Games",
    f_link: "https://www.facebook.com/profile.php?id=100004672473599",
    in_link: "https://www.linkedin.com/in/nishant-kumar-455892176",
    email_link: "mailto:kumarnishant8821@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/sstJuluri.jpeg",
    name: "Shree Shiva Teja Juluri",
    position: "General Secretary Technology",
    f_link: "https://www.facebook.com/profile.php?id=100017420234281",
    in_link: "https://www.linkedin.com/in/shree-shiva-teja-juluri-32bbb218a",
    email_link: "mailto:jshreeshivateja@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/nRaj.jpeg",
    name: "Nishchay Raj",
    position: "General Secretary Student's Welfare",
    f_link: "https://www.facebook.com/nischay.raj.7",
    in_link: "https://www.linkedin.com/in/nischay-raj-4b910516a",
    email_link: "mailto:nischayrajmuz17@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/vsRaj.jpeg",
    name: "Varun Satya Raj",
    position: "General Secretary Maintenance",
    f_link: "https://www.facebook.com/varunsatyaraj.bavana.3",
    in_link: "#",
    email_link: "mailto:satyarajvarun@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/hVenkata.jpeg",
    name: "Harshith Venkata",
    position: "General Secretary Library and Gardening",
    f_link: "https://www.facebook.com/profile.php?id=100009298481575",
    in_link: "https://www.linkedin.com/in/harshith-venkata-38a278184",
    email_link: "mailto:bvharshith610@gmail.com"
}, {
    year: 20,
    imgSrc: "../assets/hcm20/mKarthik.jpeg",
    name: "Murali Karthik",
    position: "General Secretary Mess",
    f_link: "#",
    in_link: "https://www.linkedin.com/in/muralikarthik7",
    email_link: "mailto:gmk.muralikarthik@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/aGarg.jpg",
    name: "Aman Garg",
    position: "Hall President",
    f_link: "https://www.facebook.com/aman.garg.37051",
    in_link: "https://www.linkedin.com/in/aman-garg-2a5b84116",
    email_link: "mailto:amangarg0212@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/sPise.jpg",
    name: "Shivraj Pise",
    position: "Second Senate Member",
    f_link: "https://www.facebook.com/shivrajnpise",
    in_link: "https://www.linkedin.com/in/shivrajpise",
    email_link: "mailto:Shivrajpise@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/pSinha.jpg",
    name: "Prithwi Sinha",
    position: "General Secretary Technology",
    f_link: "https://www.facebook.com/profile.php?id=100004609236252",
    in_link: "https://www.linkedin.com/in/prithwi-sinha-481b3013a",
    email_link: "mailto:sinhaprithwi@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/sBansal.jpg",
    name: "Srijan Bansal",
    position: "General Secretary Sports and Games",
    f_link: "https://www.facebook.com/srijan.bansal.73",
    in_link: "https://www.linkedin.com/in/srijan-bansal",
    email_link: "mailto:srijanbansal97@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/rPatidar.jpeg",
    name: "Rupesh Patidar",
    position: "General Secretary Social and Cultural",
    f_link: "#",
    in_link: "#",
    email_link: "mailto:rupeshpatidar1697@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/rSharma.jpg",
    name: "Rohit Sharma",
    position: "General Secretary Maintenance",
    f_link: "https://www.facebook.com/irohitsharma16",
    in_link: "https://www.linkedin.com/in/rohit-sharma-68a1263a",
    email_link: "mailto:rohit161097@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/sBhattacharya.jpeg",
    name: "Shubhram Bhattacharya",
    position: "General Secretary Mess",
    f_link: "https://www.facebook.com/profile.php?id=100012719321826",
    in_link: "https://www.linkedin.com/in/shubhram-bhattacharya-033b5b129",
    email_link: "mailto:shubh.bhatta@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/aKaushal.jpeg",
    name: "Abhishek Kaushal",
    position: "General Secretary Student's Welfare",
    f_link: "https://www.facebook.com/abhishek.kaushal.9256",
    in_link: "https://www.linkedin.com/in/abhishek-kaushal-81205a162",
    email_link: "mailto:abhishekkaushal98.ak@gmail.com"
}, {
    year: 19,
    imgSrc: "../assets/hcm19/mPrajapat.jpg",
    name: "Manish Prajapat",
    position: "General Secretary Library",
    f_link: "https://www.facebook.com/profile.php?id=100004547016855",
    in_link: "https://www.linkedin.com/in/manish-kumar-prajapat-523b4a176",
    email_link: "mailto:manishprajapat180998@gmail.com"
}];
let currentYear = new Date();
const hcmSection = document.querySelector('.hcm-current');
hcmSection.innerHTML = get_HCMs();

const btns = document.querySelectorAll('.year');
let activeBtn = document.querySelector('.active')
btns.forEach((btn, index) => {
    btn.innerHTML = `${currentYear.getFullYear() - index - 1}-${(currentYear.getFullYear() - index)%100}`;
    btn.addEventListener('click', (e) => {
        activeBtn.classList.remove('active');
        e.currentTarget.classList.add('active');
        activeBtn = e.currentTarget;
        let tenure = e.currentTarget.innerHTML;
        let year = parseInt(tenure.slice(tenure.length - 2));
        hcmSection.innerHTML = get_HCMs(year);
        let anchors = [...document.querySelectorAll('a')];
        invalid_a = anchors.filter(a => a.getAttribute('href') === "#");
        invalid_a.forEach(a => {
            a.style.visibility = "hidden";
            a.parentElement.style.cursor = 'not-allowed';
        });
    });
})

function get_HCMs(year = currentYear.getFullYear() % 100) {
    // filter the all_hcms, so as to get only HCM of year = year.
    let year_hcm = all_hcms.filter(hcm => {
        if (hcm.year === year) {
            return hcm;
        }
    })
    const template = []
    let card = ``;
    for (let i = 0; i < year_hcm.length; i++) {
        card = `<div class="card">
        <img src=${year_hcm[i].imgSrc} alt="">
        <div class="card-content">
        <h2 class="name">${year_hcm[i].name}</h2>
        <h3 class="position">${year_hcm[i].position}</h3>
        <div class="icons">
            <ul>
                <li><a href=${year_hcm[i].f_link} rel="noopener" target="${year_hcm[i].f_link !== '#'?"_blank":""}" aria-label="${year_hcm[i].f_link !== '#'?"link to facebook profile":""}"><i class="bi bi-facebook"></i></a></li>
                <li><a href=${year_hcm[i].in_link} rel="noopener" target="${year_hcm[i].in_link !== '#'?"_blank":""}" aria-label="${year_hcm[i].in_link !== '#'?"link to linked-in profile":""}"><i class="bi bi-linkedin"></i></a></li>
                <li><a href=${year_hcm[i].email_link} rel="noopener" target="${year_hcm[i].email_link !== '#'?"_blank":""}" aria-label="${year_hcm[i].email_link !== '#'?"email link":""}"><i class="bi bi-envelope-fill"></i></a></li>
            </ul>
        </div>
        </div>
    </div>`;
        template.push(card);
    }
    const completeTemplate = template.join('');
    return completeTemplate
}